{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport { GAME_STATES } from '../constants/gameConstants';\nexport const useGameControls = (gameState, setGameState, setDirection, resetGame) => {\n  _s();\n  const [isMobile, setIsMobile] = useState(false);\n  const [touchStart, setTouchStart] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Detectar dispositivo m칩vil\n  useEffect(() => {\n    const checkMobile = () => {\n      const isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768 || 'ontouchstart' in window;\n      setIsMobile(isMobileDevice);\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Controles t치ctiles\n  const handleTouchStart = useCallback(e => {\n    e.preventDefault();\n    const touch = e.touches[0];\n    setTouchStart({\n      x: touch.clientX,\n      y: touch.clientY\n    });\n  }, []);\n  const handleTouchEnd = useCallback(e => {\n    e.preventDefault();\n    const touch = e.changedTouches[0];\n    const deltaX = touch.clientX - touchStart.x;\n    const deltaY = touch.clientY - touchStart.y;\n    const minSwipeDistance = 30;\n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      if (Math.abs(deltaX) > minSwipeDistance) {\n        setDirection(deltaX > 0 ? {\n          x: 1,\n          y: 0\n        } : {\n          x: -1,\n          y: 0\n        });\n      }\n    } else {\n      if (Math.abs(deltaY) > minSwipeDistance) {\n        setDirection(deltaY > 0 ? {\n          x: 0,\n          y: 1\n        } : {\n          x: 0,\n          y: -1\n        });\n      }\n    }\n  }, [touchStart, setDirection]);\n\n  // Controles del teclado\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (!e || !e.key) return;\n      e.preventDefault();\n      switch (e.key) {\n        case 'ArrowUp':\n          setDirection({\n            x: 0,\n            y: -1\n          });\n          break;\n        case 'ArrowDown':\n          setDirection({\n            x: 0,\n            y: 1\n          });\n          break;\n        case 'ArrowLeft':\n          setDirection({\n            x: -1,\n            y: 0\n          });\n          break;\n        case 'ArrowRight':\n          setDirection({\n            x: 1,\n            y: 0\n          });\n          break;\n        case ' ':\n          if (gameState === GAME_STATES.READY) {\n            setGameState(GAME_STATES.PLAYING);\n          } else if (gameState === GAME_STATES.PLAYING) {\n            setGameState(GAME_STATES.PAUSED);\n          } else if (gameState === GAME_STATES.PAUSED) {\n            setGameState(GAME_STATES.PLAYING);\n          }\n          break;\n        case 'r':\n          if (gameState === GAME_STATES.GAME_OVER) {\n            resetGame();\n          }\n          break;\n        default:\n          break;\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [gameState, setGameState, setDirection, resetGame]);\n  return {\n    isMobile,\n    touchStart,\n    handleTouchStart,\n    handleTouchEnd\n  };\n};\n_s(useGameControls, \"vojsaXyFJVGPTa7G6gIgL/Ixtso=\");","map":{"version":3,"names":["useState","useEffect","useCallback","GAME_STATES","useGameControls","gameState","setGameState","setDirection","resetGame","_s","isMobile","setIsMobile","touchStart","setTouchStart","x","y","checkMobile","isMobileDevice","test","navigator","userAgent","window","innerWidth","addEventListener","removeEventListener","handleTouchStart","e","preventDefault","touch","touches","clientX","clientY","handleTouchEnd","changedTouches","deltaX","deltaY","minSwipeDistance","Math","abs","handleKeyPress","key","READY","PLAYING","PAUSED","GAME_OVER"],"sources":["C:/Users/usuario/Downloads/juego/src/hooks/useGameControls.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { GAME_STATES } from '../constants/gameConstants';\n\nexport const useGameControls = (gameState, setGameState, setDirection, resetGame) => {\n  const [isMobile, setIsMobile] = useState(false);\n  const [touchStart, setTouchStart] = useState({ x: 0, y: 0 });\n\n  // Detectar dispositivo m칩vil\n  useEffect(() => {\n    const checkMobile = () => {\n      const isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\n                           window.innerWidth <= 768 ||\n                           ('ontouchstart' in window);\n      setIsMobile(isMobileDevice);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Controles t치ctiles\n  const handleTouchStart = useCallback((e) => {\n    e.preventDefault();\n    const touch = e.touches[0];\n    setTouchStart({ x: touch.clientX, y: touch.clientY });\n  }, []);\n\n  const handleTouchEnd = useCallback((e) => {\n    e.preventDefault();\n    const touch = e.changedTouches[0];\n    const deltaX = touch.clientX - touchStart.x;\n    const deltaY = touch.clientY - touchStart.y;\n    const minSwipeDistance = 30;\n    \n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      if (Math.abs(deltaX) > minSwipeDistance) {\n        setDirection(deltaX > 0 ? { x: 1, y: 0 } : { x: -1, y: 0 });\n      }\n    } else {\n      if (Math.abs(deltaY) > minSwipeDistance) {\n        setDirection(deltaY > 0 ? { x: 0, y: 1 } : { x: 0, y: -1 });\n      }\n    }\n  }, [touchStart, setDirection]);\n\n  // Controles del teclado\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (!e || !e.key) return;\n      e.preventDefault();\n      \n      switch(e.key) {\n        case 'ArrowUp': \n          setDirection({ x: 0, y: -1 }); \n          break;\n        case 'ArrowDown': \n          setDirection({ x: 0, y: 1 }); \n          break;\n        case 'ArrowLeft': \n          setDirection({ x: -1, y: 0 }); \n          break;\n        case 'ArrowRight': \n          setDirection({ x: 1, y: 0 }); \n          break;\n        case ' ':\n          if (gameState === GAME_STATES.READY) {\n            setGameState(GAME_STATES.PLAYING);\n          } else if (gameState === GAME_STATES.PLAYING) {\n            setGameState(GAME_STATES.PAUSED);\n          } else if (gameState === GAME_STATES.PAUSED) {\n            setGameState(GAME_STATES.PLAYING);\n          }\n          break;\n        case 'r':\n          if (gameState === GAME_STATES.GAME_OVER) {\n            resetGame();\n          }\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [gameState, setGameState, setDirection, resetGame]);\n\n  return {\n    isMobile,\n    touchStart,\n    handleTouchStart,\n    handleTouchEnd\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}